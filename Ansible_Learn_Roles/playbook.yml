- name: Install software on GroupA
  hosts: GroupA
  roles:
    - groupA

- name: Debug after completion of GroupA
  hosts: localhost
  vars:
    encrypted_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31303364356634323561343463363531633739316362653031643132303761303266336638383665
          3033616565396438356339366634636431653866373732370a313531663732313961303936303831
          31653030386632376233396439613763383965623434323439633839643661366337653134306363
          3237656261656635320a343631613764646665656639306264613934303733333139346231336565
          37666532346363663463646463373261323862316363663334373265393661363433
  tasks:
    - name: Print the decrypted secret
      debug:
        msg: "{{ encrypted_secret }}"

- name: Install software on GroupB
  hosts: GroupB
  roles:
    - groupB
